{"version":3,"sources":["main.js"],"names":["$","document","ready","tabs","querySelectorAll","modalCall","querySelector","overlay","openModalFormCall","closeModalCall","modalOrder","closeModalOrder","basket","headerImages","basketWrap","basketModal","basketClose","basketOpen","basketOverlay","goodsBtn","goodsItems","basketCounter","totalCost","submitBtn","closeBasket","style","display","body","overflow","calcGoods","i","items","textContent","length","emptyBasketText","empty","calcTotal","prices","total","forEach","price","replace","removeFromBasket","id","this","getAttribute","parentElement","remove","validName","name","search","alert","validTel","tel","link","addEventListener","e","preventDefault","href","offsetTop","window","scrollTo","top","behavior","classList","toggle","btn","item","cloneNode","trigger","removeBtn","createElement","setAttribute","add","innerHTML","appendChild","undefined","setTimeout","owlCarousel","loop","margin","smartSpeed","dots","autoplay","autoplayTimeout","autoplayHoverPause","responsive","0","992","dotsContainer","WOW","offset","mobile","init","fn","parallax","resistance","mouse","$el","TweenLite","to","x","clientX","innerWidth","y","clientY","innerHeight","parallaxY","mousemove","tabcontent","tablinks","getElementsByClassName","className","getElementById","click","overlayCall","val","post","find","obj","key","hasOwnProperty","isEmpty"],"mappings":"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","file":"main.js","sourcesContent":["$(document).ready(function () {\r\n\tvar tabs = document.querySelectorAll(\".goods__list-tab\");\r\n\r\n\tvar modalCall = document.querySelector('.modal-form');\r\n\tvar overlay = document.querySelector('.overlay');\r\n\tvar openModalFormCall = document.querySelectorAll(\".openModal\");\r\n\tvar closeModalCall = document.querySelector(\".close-modal\");\r\n\r\n\tvar modalOrder = document.querySelector('.modal-form-order');\r\n\tvar closeModalOrder = document.querySelector(\".close-modal-Order\");\r\n\r\n\tvar basket = {};\r\n\r\n\tvar headerImages = document.querySelectorAll(\".header__images > img\");\r\n\r\n\tvar basketWrap = document.querySelector(\".basket__wrap\");\r\n\tvar basketModal = document.querySelector(\".basket\");\r\n\tvar basketClose = document.querySelector(\".basket__close\");\r\n\tvar basketOpen = document.querySelector(\".basket__open\");\r\n\tvar basketOverlay = document.querySelector(\".basket__overlay\");\r\n\tvar goodsBtn = document.querySelectorAll(\".goods__item-btn\");\r\n\tvar goodsItems = document.querySelectorAll(\".goods__item\");\r\n\tvar basketCounter = document.querySelector(\".basket__counter\");\r\n\tvar totalCost = document.querySelector(\".basket__total-cost\");\r\n\tvar submitBtn = document.querySelector(\".basket__sbm\");\r\n\r\n\tvar menuLinks = document.querySelectorAll(\".main__menu-link\");\r\n\r\n\tmenuLinks.forEach(function (link) {\r\n\t\tlink.addEventListener(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tvar href = link.getAttribute(\"href\");\r\n\t\t\tvar offsetTop = document.querySelector(href).offsetTop;\r\n\r\n\t\t\twindow.scrollTo({\r\n\t\t\t\ttop: offsetTop,\r\n\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tfunction scroll(e) {\r\n\r\n\t}\r\n\r\n\tfunction openBasket() {\r\n\t\tbasketModal.style.display = \"block\";\r\n\t\tdocument.body.style.overflow = \"hidden\";\r\n\t}\r\n\r\n\tfunction closeBasket() {\r\n\t\tbasketModal.style.display = \"none\";\r\n\t\tdocument.body.style.overflow = \"\";\r\n\t}\r\n\r\n\tbasketOpen.addEventListener(\"click\", openBasket);\r\n\tbasketClose.addEventListener(\"click\", closeBasket);\r\n\tbasketOverlay.addEventListener(\"click\", closeBasket);\r\n\tsubmitBtn.addEventListener(\"click\", openModalOrder);\r\n\r\n\tfunction addGoods() {\r\n\t\tgoodsBtn.forEach(function (btn, i) {\r\n\t\t\tbtn.addEventListener(\"click\", function () {\r\n\t\t\t\tvar item = goodsItems[i].cloneNode(true);\r\n\t\t\t\tvar trigger = item.querySelector(\"button\");\r\n\t\t\t\tvar removeBtn = document.createElement(\"div\");\r\n\t\t\t\tvar id = btn.getAttribute(\"data-id\");\r\n\t\t\t\tremoveBtn.setAttribute(\"data-id\", id);\r\n\t\t\t\tremoveBtn.addEventListener(\"click\", removeFromBasket);\r\n\r\n\t\t\t\ttrigger.remove();\r\n\t\t\t\tcalcGoods(1);\r\n\r\n\t\t\t\tremoveBtn.classList.add(\"goods__item-remove\");\r\n\t\t\t\tremoveBtn.innerHTML = \"<i class=\\\"far fa-times-circle\\\"></i>\";\r\n\t\t\t\titem.appendChild(removeBtn);\r\n\t\t\t\titem.style = \"\";\r\n\t\t\t\titem.classList.remove(\"wow\");\r\n\t\t\t\titem.classList.remove(\"fadeInLeftBig\");\r\n\r\n\t\t\t\tbasketWrap.appendChild(item);\r\n\r\n\t\t\t\tbasket[id] === undefined ? basket[id] = 1 : basket[id]++;\r\n\r\n\t\t\t\tshowAdd();\r\n\t\t\t\temptyBasketText();\r\n\t\t\t\tcalcTotal();\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\taddGoods();\r\n\r\n\tfunction calcGoods(i) {\r\n\t\tvar items = basketWrap.querySelectorAll(\".goods__item\");\r\n\t\tbasketCounter.textContent = items.length + i;\r\n\t}\r\n\r\n\tfunction emptyBasketText() {\r\n\t\tvar empty = document.querySelector(\".basket__empty\");\r\n\t\tif (+basketCounter.textContent === 0) {\r\n\t\t\tempty.style.display = \"block\";\r\n\t\t\tbasketWrap.style.display = \"block\";\r\n\t\t\tsubmitBtn.style.display = \"\";\r\n\t\t} else {\r\n\t\t\tempty.style.display = \"none\";\r\n\t\t\tbasketWrap.style.display = \"grid\";\r\n\t\t\tsubmitBtn.style.display = \"block\";\r\n\t\t}\r\n\t}\r\n\r\n\tfunction calcTotal() {\r\n\t\tvar prices = document.querySelectorAll(\".basket__wrap > .goods__item > .goods__item-cost > span\");\r\n\t\tvar total = 0;\r\n\t\tprices.forEach(function (price) {\r\n\t\t\ttotal += +price.textContent.replace(/\\s+/g, '');\r\n\t\t});\r\n\t\ttotalCost.textContent = total;\r\n\t}\r\n\r\n\tfunction removeFromBasket() {\r\n\t\tvar id = this.getAttribute(\"data-id\");\r\n\r\n\t\tbasket[id] === 1 ? delete basket[id] : basket[id]--;\r\n\r\n\t\tthis.parentElement.remove();\r\n\t\tcalcGoods(0);\r\n\t\tcalcTotal();\r\n\t\temptyBasketText();\r\n\t}\r\n\r\n\t$('.feedback__carousel').owlCarousel({\r\n\t\tloop: true,\r\n\t\tmargin: 30,\r\n\t\titems: 3,\r\n\t\tsmartSpeed: 1500,\r\n\t\tdots: true,\r\n\t\tautoplay: true,\r\n\t\tautoplayTimeout: 3000,\r\n\t\tautoplayHoverPause: true,\r\n\t\tresponsive: {\r\n\t\t\t0: {\r\n\t\t\t\titems: 1\r\n\t\t\t},\r\n\t\t\t992: {\r\n\t\t\t\titems: 3\r\n\t\t\t},\r\n\t\t}\r\n\t});\r\n\r\n\t$('.header__carousel').owlCarousel({\r\n\t\tloop: true,\r\n\t\tmargin: 30,\r\n\t\titems: 3,\r\n\t\tsmartSpeed: 500,\r\n\t\tdots: true,\r\n\t\tautoplay: true,\r\n\t\tautoplayTimeout: 5000,\r\n\t\tautoplayHoverPause: true,\r\n\t\tdotsContainer: \"#owl-custom-dots\",\r\n\t\tresponsive: {\r\n\t\t\t0: {\r\n\t\t\t\titems: 1\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\theaderImages.forEach(function (item) {\r\n\t\tsetTimeout(function () {\r\n\t\t\titem.classList.remove(\"wow\");\r\n\t\t\titem.style = \"\";\r\n\t\t}, 3000)\r\n\t});\r\n\r\n\tnew WOW({offset: 100, mobile: false}).init();\r\n\r\n\t$.fn.parallax = function (resistance, mouse) {\r\n\t\t$el = $(this);\r\n\t\tTweenLite.to($el, 0.2,\r\n\t\t\t{\r\n\t\t\t\tx: -((mouse.clientX - (window.innerWidth / 2)) / resistance),\r\n\t\t\t\ty: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n\t\t\t});\r\n\t};\r\n\r\n\t$.fn.parallaxY = function (resistance, mouse) {\r\n\t\t$el = $(this);\r\n\t\tTweenLite.to($el, 0.2,\r\n\t\t\t{\r\n\t\t\t\ty: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n\t\t\t});\r\n\t};\r\n\r\n\t$('body').mousemove(function (e) {\r\n\t\t$('.bg__bear_red').parallaxY(-10, e);\r\n\t\t$('.bg__bear_violet').parallax(10, e);\r\n\t\t$('.header__images-bouquet').parallax(-50, e);\r\n\t\t$('.header__images-bouquet-shadow').parallax(-50, e);\r\n\t\t$('.header__images-blur-flower').parallax(40, e);\r\n\t\t$('.header__images-left-leaf').parallax(-20, e);\r\n\t\t$('.header__images-left-fl').parallax(30, e);\r\n\t\t$('.header__images-right-fl').parallax(-20, e);\r\n\t\t$('.header__images-blur-leaf').parallax(10, e);\r\n\t\t$('.header__images-right-leaf').parallax(-20, e);\r\n\t});\r\n\r\n\ttabs.forEach(function (btn) {\r\n\t\tbtn.addEventListener(\"click\", function () {\r\n\t\t\tvar i, tabcontent, tablinks;\r\n\t\t\tvar id = this.getAttribute(\"data-id\");\r\n\t\t\ttabcontent = document.getElementsByClassName(\"goods__item-wrap\");\r\n\t\t\tfor (i = 0; i < tabcontent.length; i++) {\r\n\t\t\t\ttabcontent[i].style.display = \"none\";\r\n\t\t\t}\r\n\t\t\ttablinks = document.getElementsByClassName(\"goods__list-tab\");\r\n\t\t\tfor (i = 0; i < tablinks.length; i++) {\r\n\t\t\t\ttablinks[i].className = tablinks[i].className.replace(\" goods__list-tab-active\", \"\");\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(id).style.display = \"grid\";\r\n\t\t\tthis.className += \" goods__list-tab-active\";\r\n\t\t})\r\n\t});\r\n\tdocument.getElementById(\"defaultOpen\").click();\r\n\r\n\tfunction openModalOrder() {\r\n\t\toverlay.style.display = \"block\";\r\n\t\tmodalOrder.style.display = \"block\";\r\n\t\tcloseModalOrder.style.display = \"block\";\r\n\t\toverlay.classList.toggle(\"overlay-active\");\r\n\t}\r\n\r\n\topenModalFormCall.forEach(function (btn) {\r\n\t\tbtn.addEventListener(\"click\", function () {\r\n\t\t\toverlay.style.display = \"block\";\r\n\t\t\tmodalCall.style.display = \"block\";\r\n\t\t\toverlay.classList.toggle(\"overlay-active\");\r\n\t\t})\r\n\t});\r\n\r\n\tcloseModalCall.addEventListener(\"click\", function () {\r\n\t\toverlayCall.style.display = \"none\";\r\n\t\tmodalCall.style.display = \"none\";\r\n\t\tmodalCall.classList.toggle(\"modal-active\");\r\n\t\toverlayCall.classList.toggle(\"overlay-active\");\r\n\t});\r\n\r\n\toverlay.addEventListener(\"click\", function () {\r\n\t\toverlay.style.display = \"none\";\r\n\t\tmodalOrder.style.display = \"none\";\r\n\t\tmodalCall.style.display = \"none\";\r\n\t\toverlay.classList.toggle(\"overlay-active\");\r\n\t});\r\n\r\n\tfunction sendEmail() {\r\n\t\tvar name = $(\"#name-input\").val();\r\n\t\tvar tel = $(\"#tel-input\").val();\r\n\t\tif (validName(name) && validTel(tel)) {\r\n\t\t\t$.post(\r\n\t\t\t\t\"mail.php\",\r\n\t\t\t\t{\r\n\t\t\t\t\t\"name\": name,\r\n\t\t\t\t\t\"tel\": tel\r\n\t\t\t\t},\r\n\t\t\t\tfunction () {\r\n\t\t\t\t\talert(\"Мы вам перезвоним!\");\r\n\t\t\t\t\t$(this).find('input').val('');\r\n\t\t\t\t\t$('.order-form').trigger('reset');\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction sendOrder() {\r\n\t\tvar name = $(\"#name-input\").val();\r\n\t\tvar tel = $(\"#tel-input\").val();\r\n\t\tif (validName(name) && validTel(tel)) {\r\n\t\t\tif (!isEmpty(basket)) {\r\n\t\t\t\t$.post(\r\n\t\t\t\t\t\"order.php\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"name\": name,\r\n\t\t\t\t\t\t\"tel\": tel,\r\n\t\t\t\t\t\t\"basket\": basket\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\talert(\"Мы вам перезвоним!\");\r\n\t\t\t\t\t\t$(this).find('input').val('');\r\n\t\t\t\t\t\t$('.order-form').trigger('reset');\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Корзина пуста!\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validName(name) {\r\n\t\tif (name.length > 1 && name.search(/\\d/) == -1) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\talert(\"Некорректное Имя!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validTel(tel) {\r\n\t\tif (tel.search(/\\d/) == 0 && tel.search(/[A-Z]/i) == -1) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\talert(\"Некорректный телефон!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction isEmpty(obj) {\r\n\t\tfor (var key in obj)\r\n\t\t\tif (obj.hasOwnProperty(key))\r\n\t\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tdocument.querySelector(\".form__sbm\").addEventListener(\"click\", function () {\r\n\t\tsendEmail();\r\n\t});\r\n\r\n\tdocument.querySelector(\".form__sbm-order\").addEventListener(\"click\", function () {\r\n\t\tsendOrder();\r\n\t});\r\n\r\n\tfunction showAdd() {\r\n\t\tbasketOpen.classList.toggle(\"basket-pulse\");\r\n\t\tsetTimeout(function () {\r\n\t\t\tbasketOpen.classList.toggle(\"basket-pulse\");\r\n\t\t}, 600)\r\n\t}\r\n})\r\n;"]}