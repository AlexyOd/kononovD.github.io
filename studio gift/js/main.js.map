{"version":3,"sources":["main.js"],"names":["$","document","ready","owlCarousel","loop","margin","items","smartSpeed","dots","autoplay","autoplayTimeout","autoplayHoverPause","responsive","0","992","WOW","offset","init","fn","parallax","resistance","mouse","$el","this","TweenLite","to","x","clientX","window","innerWidth","y","clientY","innerHeight","parallaxY","mousemove","e","querySelectorAll","forEach","btn","addEventListener","i","tabcontent","tablinks","id","getAttribute","getElementsByClassName","length","style","display","className","replace","getElementById","click","on","attr","top","animate","scrollTop","modal","querySelector","overlay","btns","closModal","classList","toggle","basket","sendEmail","tel","name","val","search","alert","post","find","trigger","undefined"],"mappings":"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","file":"main.js","sourcesContent":["$(document).ready(function () {\r\n    $('.owl-carousel').owlCarousel({\r\n        loop: true,\r\n        margin: 30,\r\n        items: 3,\r\n        smartSpeed: 500,\r\n        dots: true,\r\n        autoplay: true,\r\n        autoplayTimeout: 3000,\r\n        autoplayHoverPause: true,\r\n        responsive: {\r\n            0: {\r\n                items: 1\r\n            },\r\n            992: {\r\n                items: 3\r\n            },\r\n        }\r\n    });\r\n\r\n    var wow = new WOW({offset: 50});\r\n    wow.init();\r\n\r\n    // new WOW({}).init({offset: 80});\r\n\r\n    $.fn.parallax = function (resistance, mouse) {\r\n        $el = $(this);\r\n        TweenLite.to($el, 0.2,\r\n            {\r\n                x: -((mouse.clientX - (window.innerWidth / 2)) / resistance),\r\n                y: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n            });\r\n    };\r\n\r\n    $.fn.parallaxY = function (resistance, mouse) {\r\n        $el = $(this);\r\n        TweenLite.to($el, 0.2,\r\n            {\r\n                y: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n            });\r\n    };\r\n\r\n    $('body').mousemove(function (e) {\r\n        $('.bg__bear_red').parallaxY(-10, e);\r\n        $('.bg__bear_violet').parallax(10, e);\r\n        $('.header__images-bouquet').parallax(-50, e);\r\n        $('.header__images-bouquet-shadow').parallax(-50, e);\r\n        $('.header__images-blur-flower').parallax(40, e);\r\n        $('.header__images-left-leaf').parallax(-20, e);\r\n        $('.header__images-left-fl').parallax(30, e);\r\n        $('.header__images-right-fl').parallax(-20, e);\r\n        $('.header__images-blur-leaf').parallax(10, e);\r\n        $('.header__images-right-leaf').parallax(-20, e);\r\n    });\r\n\r\n    var tabs = document.querySelectorAll(\".goods__list-tab\");\r\n\r\n    tabs.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            var i, tabcontent, tablinks;\r\n            var id = this.getAttribute(\"data-id\");\r\n            tabcontent = document.getElementsByClassName(\"goods__item-wrap\");\r\n            for (i = 0; i < tabcontent.length; i++) {\r\n                tabcontent[i].style.display = \"none\";\r\n            }\r\n            tablinks = document.getElementsByClassName(\"goods__list-tab\");\r\n            for (i = 0; i < tablinks.length; i++) {\r\n                tablinks[i].className = tablinks[i].className.replace(\" goods__list-tab-active\", \"\");\r\n            }\r\n            document.getElementById(id).style.display = \"grid\";\r\n            this.className += \" goods__list-tab-active\";\r\n        })\r\n    });\r\n    document.getElementById(\"defaultOpen\").click();\r\n\r\n    $(\".main__menu-link\").on(\"click\", function () {\r\n        var id = $(this).attr('href'),\r\n            top = $(id).offset().top;\r\n        $('body,html').animate({scrollTop: top});\r\n    });\r\n\r\n\r\n    var modal = document.querySelector('.modal-form');\r\n    var overlay = document.querySelector('.overlay');\r\n    var btns = document.querySelectorAll(\".openModal\");\r\n    var closModal = document.querySelector(\".close-modal\");\r\n\r\n    btns.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            overlay.style.display = \"block\";\r\n            modal.style.display = \"block\"\r\n            modal.classList.toggle(\"modal-active\");\r\n            overlay.classList.toggle(\"overlay-active\");\r\n        })\r\n    });\r\n\r\n    closModal.addEventListener(\"click\", function () {\r\n        overlay.style.display = \"none\";\r\n        modal.style.display = \"none\";\r\n        modal.classList.toggle(\"modal-active\");\r\n        overlay.classList.toggle(\"overlay-active\");\r\n    });\r\n\r\n    overlay.addEventListener(\"click\", function () {\r\n        overlay.style.display = \"none\";\r\n        modal.style.display = \"none\";\r\n        modal.classList.toggle(\"modal-active\");\r\n        overlay.classList.toggle(\"overlay-active\");\r\n    });\r\n\r\n    var basket = {};\r\n\r\n    function sendEmail() {\r\n        var name = $(\"#name-input\").val();\r\n        var tel = $(\"#tel-input\").val();\r\n        if (validName(name) && validTel(tel)) {\r\n            $.post(\r\n                \"mail.php\",\r\n                {\r\n                    \"name\": name,\r\n                    \"tel\": tel\r\n                },\r\n                function () {\r\n                    alert(\"Мы вам перезвоним!\");\r\n                    $(this).find('input').val('');\r\n                    $('.order-form').trigger('reset');\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    function validName(name) {\r\n        if (name.length > 1 && name.search(/\\d/) == -1) {\r\n            return true;\r\n        } else {\r\n            alert(\"Некорректное Имя!\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function validTel(tel) {\r\n        if (tel.search(/\\d/) == 0 && tel.search(/[A-Z]/i) == -1) {\r\n            return true;\r\n        } else {\r\n            alert(\"Некорректный телефон!\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function isEmpty(obj) {\r\n        for (var key in obj)\r\n            if (obj.hasOwnProperty(key))\r\n                return false;\r\n        return true;\r\n    }\r\n\r\n    document.querySelector(\".form__sbm\").addEventListener(\"click\", function () {\r\n        sendEmail();\r\n    });\r\n\r\n    var goodsBtns = document.querySelectorAll(\".goods__item-btn\");\r\n\r\n    goodsBtns.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            var id = this.getAttribute('data-id');\r\n            basket[id] === undefined ? basket[id] = 1 : basket[id]++;\r\n        })\r\n    })\r\n\r\n    function delGoods() { // Удаление товаров из корзины\r\n        var id = $(this).attr(\"data-id\");\r\n        delete basket[id];\r\n        if (isEmpty(basket) && $(\"#basket-toggle\").prop(\"checked\"))\r\n            $(\".basket-btn\").click();\r\n        saveBasket();\r\n        showMiniBasket();\r\n    }\r\n\r\n    function plusGoods() { // Увеличение количества товара\r\n        var id = $(this).attr(\"data-id\");\r\n        basket[id]++;\r\n        saveBasket();\r\n        showMiniBasket();\r\n    }\r\n\r\n    function minusGoods() { // Уменьшение количесвта товара\r\n        var id = $(this).attr(\"data-id\");\r\n        basket[id] === 1 ? delete basket[id] : basket[id]--;\r\n        if (isEmpty(basket) && $(\"#basket-toggle\").prop(\"checked\"))\r\n            $(\".basket-btn\").click();\r\n        saveBasket();\r\n        showMiniBasket();\r\n    }\r\n\r\n});"]}