{"version":3,"sources":["main.js"],"names":["$","document","ready","tabs","querySelectorAll","modal","querySelector","overlay","btns","closModal","basket","goodsBtns","sendEmail","tel","name","val","length","search","alert","post","this","find","trigger","owlCarousel","loop","margin","items","smartSpeed","dots","autoplay","autoplayTimeout","autoplayHoverPause","responsive","0","992","WOW","init","offset","fn","parallax","resistance","mouse","$el","TweenLite","to","x","clientX","window","innerWidth","y","clientY","innerHeight","parallaxY","mousemove","e","forEach","btn","addEventListener","i","tabcontent","tablinks","id","getAttribute","getElementsByClassName","style","display","className","replace","getElementById","click","on","attr","top","animate","scrollTop","classList","toggle","undefined","addToBasket"],"mappings":"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","file":"main.js","sourcesContent":["$(document).ready(function () {\r\n    var tabs = document.querySelectorAll(\".goods__list-tab\");\r\n\r\n    var modal = document.querySelector('.modal-form');\r\n    var overlay = document.querySelector('.overlay');\r\n    var btns = document.querySelectorAll(\".openModal\");\r\n    var closModal = document.querySelector(\".close-modal\");\r\n\r\n    var basket = {};\r\n\r\n    var goodsBtns = document.querySelectorAll(\".goods__item-btn\");\r\n\r\n    $('.owl-carousel').owlCarousel({\r\n        loop: true,\r\n        margin: 30,\r\n        items: 3,\r\n        smartSpeed: 500,\r\n        dots: true,\r\n        autoplay: true,\r\n        autoplayTimeout: 3000,\r\n        autoplayHoverPause: true,\r\n        responsive: {\r\n            0: {\r\n                items: 1\r\n            },\r\n            992: {\r\n                items: 3\r\n            },\r\n        }\r\n    });\r\n\r\n    new WOW({}).init({offset: 30});\r\n\r\n    $.fn.parallax = function (resistance, mouse) {\r\n        $el = $(this);\r\n        TweenLite.to($el, 0.2,\r\n            {\r\n                x: -((mouse.clientX - (window.innerWidth / 2)) / resistance),\r\n                y: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n            });\r\n    };\r\n\r\n    $.fn.parallaxY = function (resistance, mouse) {\r\n        $el = $(this);\r\n        TweenLite.to($el, 0.2,\r\n            {\r\n                y: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n            });\r\n    };\r\n\r\n    $('body').mousemove(function (e) {\r\n        $('.bg__bear_red').parallaxY(-10, e);\r\n        $('.bg__bear_violet').parallax(10, e);\r\n        $('.header__images-bouquet').parallax(-50, e);\r\n        $('.header__images-bouquet-shadow').parallax(-50, e);\r\n        $('.header__images-blur-flower').parallax(40, e);\r\n        $('.header__images-left-leaf').parallax(-20, e);\r\n        $('.header__images-left-fl').parallax(30, e);\r\n        $('.header__images-right-fl').parallax(-20, e);\r\n        $('.header__images-blur-leaf').parallax(10, e);\r\n        $('.header__images-right-leaf').parallax(-20, e);\r\n    });\r\n\r\n    tabs.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            var i, tabcontent, tablinks;\r\n            var id = this.getAttribute(\"data-id\");\r\n            tabcontent = document.getElementsByClassName(\"goods__item-wrap\");\r\n            for (i = 0; i < tabcontent.length; i++) {\r\n                tabcontent[i].style.display = \"none\";\r\n            }\r\n            tablinks = document.getElementsByClassName(\"goods__list-tab\");\r\n            for (i = 0; i < tablinks.length; i++) {\r\n                tablinks[i].className = tablinks[i].className.replace(\" goods__list-tab-active\", \"\");\r\n            }\r\n            document.getElementById(id).style.display = \"grid\";\r\n            this.className += \" goods__list-tab-active\";\r\n        })\r\n    });\r\n    document.getElementById(\"defaultOpen\").click();\r\n\r\n    $(\".main__menu-link\").on(\"click\", function () {\r\n        var id = $(this).attr('href'),\r\n            top = $(id).offset().top;\r\n        $('body,html').animate({scrollTop: top});\r\n    });\r\n\r\n    btns.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            overlay.style.display = \"block\";\r\n            modal.style.display = \"block\"\r\n            modal.classList.toggle(\"modal-active\");\r\n            overlay.classList.toggle(\"overlay-active\");\r\n        })\r\n    });\r\n\r\n    closModal.addEventListener(\"click\", function () {\r\n        overlay.style.display = \"none\";\r\n        modal.style.display = \"none\";\r\n        modal.classList.toggle(\"modal-active\");\r\n        overlay.classList.toggle(\"overlay-active\");\r\n    });\r\n\r\n    overlay.addEventListener(\"click\", function () {\r\n        overlay.style.display = \"none\";\r\n        modal.style.display = \"none\";\r\n        modal.classList.toggle(\"modal-active\");\r\n        overlay.classList.toggle(\"overlay-active\");\r\n    });\r\n\r\n    function sendEmail() {\r\n        var name = $(\"#name-input\").val();\r\n        var tel = $(\"#tel-input\").val();\r\n        if (validName(name) && validTel(tel)) {\r\n            $.post(\r\n                \"mail.php\",\r\n                {\r\n                    \"name\": name,\r\n                    \"tel\": tel\r\n                },\r\n                function () {\r\n                    alert(\"Мы вам перезвоним!\");\r\n                    $(this).find('input').val('');\r\n                    $('.order-form').trigger('reset');\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    function validName(name) {\r\n        if (name.length > 1 && name.search(/\\d/) == -1) {\r\n            return true;\r\n        } else {\r\n            alert(\"Некорректное Имя!\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function validTel(tel) {\r\n        if (tel.search(/\\d/) == 0 && tel.search(/[A-Z]/i) == -1) {\r\n            return true;\r\n        } else {\r\n            alert(\"Некорректный телефон!\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function isEmpty(obj) {\r\n        for (var key in obj)\r\n            if (obj.hasOwnProperty(key))\r\n                return false;\r\n        return true;\r\n    }\r\n\r\n    document.querySelector(\".form__sbm\").addEventListener(\"click\", function () {\r\n        sendEmail();\r\n    });\r\n\r\n    goodsBtns.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", addToBasket());\r\n    });\r\n\r\n    function addToBasket() { // функция, обеспечивающая добавление товаров в корзину\r\n        var id = $(this).attr(\"data-id\");\r\n        basket[id] === undefined ? basket[id] = 1 : basket[id]++;\r\n    }\r\n\r\n    function delGoods() { // Удаление товаров из корзины\r\n        var id = $(this).attr(\"data-id\");\r\n        delete basket[id];\r\n    }\r\n\r\n    function plusGoods() { // Увеличение количества товара\r\n        var id = $(this).attr(\"data-id\");\r\n        basket[id]++\r\n    }\r\n\r\n    function minusGoods() { // Уменьшение количесвта товара\r\n        var id = $(this).attr(\"data-id\");\r\n        basket[id] === 1 ? delete basket[id] : basket[id]--;\r\n        if (isEmpty(basket) && $(\"#basket-toggle\").prop(\"checked\"))\r\n            $(\".basket-btn\").click();\r\n    }\r\n});"]}