{"version":3,"sources":["main.js"],"names":["$","document","ready","tabs","querySelectorAll","modal","querySelector","overlay","openModalForm","closModal","basket","headerImages","basketWrap","basketModal","basketClose","basketOpen","basketOverlay","goodsBtn","goodsItems","basketCounter","totalCost","submitBtn","closeBasket","style","display","body","overflow","calcGoods","i","items","textContent","length","emptyCartText","empty","calcTotal","prices","total","forEach","price","replace","sendEmail","tel","name","val","search","alert","post","this","find","trigger","addEventListener","btn","item","cloneNode","removeBtn","createElement","id","getAttribute","setAttribute","remove","classList","add","innerHTML","appendChild","undefined","console","log","toggle","setTimeout","parentElement","owlCarousel","loop","margin","smartSpeed","dots","autoplay","autoplayTimeout","autoplayHoverPause","responsive","0","992","dotsContainer","WOW","init","offset","fn","parallax","resistance","mouse","$el","TweenLite","to","x","clientX","window","innerWidth","y","clientY","innerHeight","parallaxY","mousemove","e","tabcontent","tablinks","getElementsByClassName","className","getElementById","click","on","attr","top","animate","scrollTop"],"mappings":"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","file":"main.js","sourcesContent":["$(document).ready(function () {\r\n    var tabs = document.querySelectorAll(\".goods__list-tab\");\r\n\r\n    var modal = document.querySelector('.modal-form');\r\n    var overlay = document.querySelector('.overlay');\r\n    var openModalForm = document.querySelectorAll(\".openModal\");\r\n    var closModal = document.querySelector(\".close-modal\");\r\n\r\n    var basket = {};\r\n\r\n    var headerImages = document.querySelectorAll(\".header__images > img\");\r\n\r\n    var basketWrap = document.querySelector(\".basket__wrap\");\r\n    var basketModal = document.querySelector(\".basket\");\r\n    var basketClose = document.querySelector(\".basket__close\");\r\n    var basketOpen = document.querySelector(\".basket__open\");\r\n    var basketOverlay = document.querySelector(\".basket__overlay\");\r\n    var goodsBtn = document.querySelectorAll(\".goods__item-btn\");\r\n    var goodsItems = document.querySelectorAll(\".goods__item\");\r\n    var basketCounter = document.querySelector(\".basket__counter\");\r\n    var totalCost = document.querySelector(\".basket__total-cost\");\r\n    var submitBtn = document.querySelector(\".basket__sbm\");\r\n\r\n    function openBasket() {\r\n        basketModal.style.display = \"block\";\r\n        document.body.style.overflow = \"hidden\";\r\n    }\r\n\r\n    function closeBasket() {\r\n        basketModal.style.display = \"none\";\r\n        document.body.style.overflow = \"\";\r\n    }\r\n\r\n    basketOpen.addEventListener(\"click\", openBasket);\r\n    basketClose.addEventListener(\"click\", closeBasket);\r\n    basketOverlay.addEventListener(\"click\", closeBasket);\r\n\r\n    function addGoods() {\r\n        goodsBtn.forEach(function (btn, i) {\r\n            btn.addEventListener(\"click\", function () {\r\n                var item = goodsItems[i].cloneNode(true);\r\n                var trigger = item.querySelector(\"button\");\r\n                var removeBtn = document.createElement(\"div\");\r\n                var id = btn.getAttribute(\"data-id\");\r\n                removeBtn.setAttribute(\"data-id\", id);\r\n\r\n                trigger.remove();\r\n                calcGoods(1);\r\n\r\n                removeBtn.classList.add(\"goods__item-remove\");\r\n                removeBtn.innerHTML = \"<i class=\\\"far fa-times-circle\\\"></i>\";\r\n                item.appendChild(removeBtn);\r\n                item.style = \"\";\r\n                item.classList.remove(\"wow\");\r\n                item.classList.remove(\"fadeInLeftBig\");\r\n\r\n                basketWrap.appendChild(item);\r\n\r\n                basket[id] === undefined ? basket[id] = 1 : basket[id]++;\r\n                console.log(basket);\r\n\r\n                showAdd();\r\n                emptyCartText();\r\n                calcTotal();\r\n                removeFromCart();\r\n            })\r\n        });\r\n    }\r\n\r\n    addGoods();\r\n\r\n    function calcGoods(i) {\r\n        var items = basketWrap.querySelectorAll(\".goods__item\");\r\n        basketCounter.textContent = items.length + i;\r\n    }\r\n\r\n    function emptyCartText() {\r\n        var empty = document.querySelector(\".basket__empty\");\r\n        if (+basketCounter.textContent === 0) {\r\n            empty.style.display = \"block\";\r\n            basketWrap.style.display = \"block\";\r\n            submitBtn.style.display = \"\";\r\n        } else {\r\n            empty.style.display = \"none\";\r\n            basketWrap.style.display = \"grid\";\r\n            submitBtn.style.display = \"flex\";\r\n        }\r\n    }\r\n\r\n    function calcTotal() {\r\n        var prices = document.querySelectorAll(\".basket__wrap > .goods__item > .goods__item-cost > span\");\r\n        var total = 0;\r\n        prices.forEach(function (price) {\r\n            total += +price.textContent.replace(/\\s+/g, '');\r\n        });\r\n        totalCost.textContent = total;\r\n    }\r\n\r\n    function removeFromCart() {\r\n        var removeBtn = basketWrap.querySelectorAll(\".goods__item-remove\");\r\n\r\n        removeBtn.forEach(function (btn) {\r\n            btn.addEventListener(\"click\", function () {\r\n                var id = btn.getAttribute(\"data-id\");\r\n\r\n                basket[id] === 1 ? delete basket[id] : basket[id]--;\r\n                console.log(basket);\r\n\r\n                btn.parentElement.remove();\r\n                calcGoods(0);\r\n                calcTotal();\r\n                emptyCartText();\r\n            })\r\n        })\r\n    }\r\n\r\n    $('.feedback__carousel').owlCarousel({\r\n        loop: true,\r\n        margin: 30,\r\n        items: 3,\r\n        smartSpeed: 1500,\r\n        dots: true,\r\n        autoplay: true,\r\n        autoplayTimeout: 3000,\r\n        autoplayHoverPause: true,\r\n        responsive: {\r\n            0: {\r\n                items: 1\r\n            },\r\n            992: {\r\n                items: 3\r\n            },\r\n        }\r\n    });\r\n\r\n    $('.header__carousel').owlCarousel({\r\n        loop: true,\r\n        margin: 30,\r\n        items: 3,\r\n        smartSpeed: 500,\r\n        dots: true,\r\n        autoplay: true,\r\n        autoplayTimeout: 5000,\r\n        autoplayHoverPause: true,\r\n        dotsContainer: \"#owl-custom-dots\",\r\n        responsive: {\r\n            0: {\r\n                items: 1\r\n            }\r\n        }\r\n    });\r\n\r\n    headerImages.forEach(function (item) {\r\n        setTimeout(function () {\r\n            item.classList.remove(\"wow\");\r\n            item.style = \"\";\r\n        }, 3000)\r\n    });\r\n\r\n    new WOW({}).init({offset: 30});\r\n\r\n    $.fn.parallax = function (resistance, mouse) {\r\n        $el = $(this);\r\n        TweenLite.to($el, 0.2,\r\n            {\r\n                x: -((mouse.clientX - (window.innerWidth / 2)) / resistance),\r\n                y: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n            });\r\n    };\r\n\r\n    $.fn.parallaxY = function (resistance, mouse) {\r\n        $el = $(this);\r\n        TweenLite.to($el, 0.2,\r\n            {\r\n                y: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n            });\r\n    };\r\n\r\n    $('body').mousemove(function (e) {\r\n        $('.bg__bear_red').parallaxY(-10, e);\r\n        $('.bg__bear_violet').parallax(10, e);\r\n        $('.header__images-bouquet').parallax(-50, e);\r\n        $('.header__images-bouquet-shadow').parallax(-50, e);\r\n        $('.header__images-blur-flower').parallax(40, e);\r\n        $('.header__images-left-leaf').parallax(-20, e);\r\n        $('.header__images-left-fl').parallax(30, e);\r\n        $('.header__images-right-fl').parallax(-20, e);\r\n        $('.header__images-blur-leaf').parallax(10, e);\r\n        $('.header__images-right-leaf').parallax(-20, e);\r\n    });\r\n\r\n    tabs.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            var i, tabcontent, tablinks;\r\n            var id = this.getAttribute(\"data-id\");\r\n            tabcontent = document.getElementsByClassName(\"goods__item-wrap\");\r\n            for (i = 0; i < tabcontent.length; i++) {\r\n                tabcontent[i].style.display = \"none\";\r\n            }\r\n            tablinks = document.getElementsByClassName(\"goods__list-tab\");\r\n            for (i = 0; i < tablinks.length; i++) {\r\n                tablinks[i].className = tablinks[i].className.replace(\" goods__list-tab-active\", \"\");\r\n            }\r\n            document.getElementById(id).style.display = \"grid\";\r\n            this.className += \" goods__list-tab-active\";\r\n        })\r\n    });\r\n    document.getElementById(\"defaultOpen\").click();\r\n\r\n    $(\".main__menu-link\").on(\"click\", function () {\r\n        var id = $(this).attr('href'),\r\n            top = $(id).offset().top;\r\n        $('body,html').animate({scrollTop: top});\r\n    });\r\n\r\n    openModalForm.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            overlay.style.display = \"block\";\r\n            modal.style.display = \"block\";\r\n            modal.classList.toggle(\"modal-active\");\r\n            overlay.classList.toggle(\"overlay-active\");\r\n        })\r\n    });\r\n\r\n    closModal.addEventListener(\"click\", function () {\r\n        overlay.style.display = \"none\";\r\n        modal.style.display = \"none\";\r\n        modal.classList.toggle(\"modal-active\");\r\n        overlay.classList.toggle(\"overlay-active\");\r\n    });\r\n\r\n    overlay.addEventListener(\"click\", function () {\r\n        overlay.style.display = \"none\";\r\n        modal.style.display = \"none\";\r\n        modal.classList.toggle(\"modal-active\");\r\n        overlay.classList.toggle(\"overlay-active\");\r\n    });\r\n\r\n    function sendEmail() {\r\n        var name = $(\"#name-input\").val();\r\n        var tel = $(\"#tel-input\").val();\r\n        if (validName(name) && validTel(tel)) {\r\n            $.post(\r\n                \"mail.php\",\r\n                {\r\n                    \"name\": name,\r\n                    \"tel\": tel\r\n                },\r\n                function () {\r\n                    alert(\"Мы вам перезвоним!\");\r\n                    $(this).find('input').val('');\r\n                    $('.order-form').trigger('reset');\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    function validName(name) {\r\n        if (name.length > 1 && name.search(/\\d/) == -1) {\r\n            return true;\r\n        } else {\r\n            alert(\"Некорректное Имя!\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function validTel(tel) {\r\n        if (tel.search(/\\d/) == 0 && tel.search(/[A-Z]/i) == -1) {\r\n            return true;\r\n        } else {\r\n            alert(\"Некорректный телефон!\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function isEmpty(obj) {\r\n        for (var key in obj)\r\n            if (obj.hasOwnProperty(key))\r\n                return false;\r\n        return true;\r\n    }\r\n\r\n    document.querySelector(\".form__sbm\").addEventListener(\"click\", function () {\r\n        sendEmail();\r\n    });\r\n\r\n    function showAdd() {\r\n        basketOpen.classList.toggle(\"basket-pulse\");\r\n        setTimeout(function () {\r\n            basketOpen.classList.toggle(\"basket-pulse\");\r\n        },600)\r\n    }\r\n});"]}