{"version":3,"sources":["main.js"],"names":["$","document","ready","tabs","querySelectorAll","modalCall","querySelector","overlay","openModalFormCall","closeModalCall","modalOrder","closeModalOrder","basket","headerImages","basketWrap","basketModal","basketClose","basketOpen","basketOverlay","goodsBtn","goodsItems","basketCounter","totalCost","submitBtn","closeBasket","style","display","body","overflow","calcGoods","i","items","textContent","length","emptyBasketText","empty","calcTotal","prices","total","forEach","price","replace","removeFromBasket","id","this","getAttribute","parentElement","remove","validName","name","search","alert","validTel","tel","addEventListener","classList","toggle","btn","item","cloneNode","trigger","removeBtn","createElement","setAttribute","add","innerHTML","appendChild","undefined","setTimeout","owlCarousel","loop","margin","smartSpeed","dots","autoplay","autoplayTimeout","autoplayHoverPause","responsive","0","992","dotsContainer","WOW","offset","mobile","init","fn","parallax","resistance","mouse","$el","TweenLite","to","x","clientX","window","innerWidth","y","clientY","innerHeight","parallaxY","mousemove","e","tabcontent","tablinks","getElementsByClassName","className","getElementById","click","on","attr","top","animate","scrollTop","overlayCall","val","post","find","obj","key","hasOwnProperty","isEmpty"],"mappings":"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","file":"main.js","sourcesContent":["$(document).ready(function () {\r\n    var tabs = document.querySelectorAll(\".goods__list-tab\");\r\n\r\n    var modalCall = document.querySelector('.modal-form');\r\n    var overlay = document.querySelector('.overlay');\r\n    var openModalFormCall = document.querySelectorAll(\".openModal\");\r\n    var closeModalCall = document.querySelector(\".close-modal\");\r\n\r\n    var modalOrder = document.querySelector('.modal-form-order');\r\n    var closeModalOrder = document.querySelector(\".close-modal-Order\");\r\n\r\n    var basket = {};\r\n\r\n    var headerImages = document.querySelectorAll(\".header__images > img\");\r\n\r\n    var basketWrap = document.querySelector(\".basket__wrap\");\r\n    var basketModal = document.querySelector(\".basket\");\r\n    var basketClose = document.querySelector(\".basket__close\");\r\n    var basketOpen = document.querySelector(\".basket__open\");\r\n    var basketOverlay = document.querySelector(\".basket__overlay\");\r\n    var goodsBtn = document.querySelectorAll(\".goods__item-btn\");\r\n    var goodsItems = document.querySelectorAll(\".goods__item\");\r\n    var basketCounter = document.querySelector(\".basket__counter\");\r\n    var totalCost = document.querySelector(\".basket__total-cost\");\r\n    var submitBtn = document.querySelector(\".basket__sbm\");\r\n\r\n    function openBasket() {\r\n        basketModal.style.display = \"block\";\r\n        document.body.style.overflow = \"hidden\";\r\n    }\r\n\r\n    function closeBasket() {\r\n        basketModal.style.display = \"none\";\r\n        document.body.style.overflow = \"\";\r\n    }\r\n\r\n    basketOpen.addEventListener(\"click\", openBasket);\r\n    basketClose.addEventListener(\"click\", closeBasket);\r\n    basketOverlay.addEventListener(\"click\", closeBasket);\r\n    submitBtn.addEventListener(\"click\", openModalOrder);\r\n\r\n    function addGoods() {\r\n        goodsBtn.forEach(function (btn, i) {\r\n            btn.addEventListener(\"click\", function () {\r\n                var item = goodsItems[i].cloneNode(true);\r\n                var trigger = item.querySelector(\"button\");\r\n                var removeBtn = document.createElement(\"div\");\r\n                var id = btn.getAttribute(\"data-id\");\r\n                removeBtn.setAttribute(\"data-id\", id);\r\n                removeBtn.addEventListener(\"click\", removeFromBasket);\r\n\r\n                trigger.remove();\r\n                calcGoods(1);\r\n\r\n                removeBtn.classList.add(\"goods__item-remove\");\r\n                removeBtn.innerHTML = \"<i class=\\\"far fa-times-circle\\\"></i>\";\r\n                item.appendChild(removeBtn);\r\n                item.style = \"\";\r\n                item.classList.remove(\"wow\");\r\n                item.classList.remove(\"fadeInLeftBig\");\r\n\r\n                basketWrap.appendChild(item);\r\n\r\n                basket[id] === undefined ? basket[id] = 1 : basket[id]++;\r\n\r\n                showAdd();\r\n                emptyBasketText();\r\n                calcTotal();\r\n            })\r\n        });\r\n    }\r\n\r\n    addGoods();\r\n\r\n    function calcGoods(i) {\r\n        var items = basketWrap.querySelectorAll(\".goods__item\");\r\n        basketCounter.textContent = items.length + i;\r\n    }\r\n\r\n    function emptyBasketText() {\r\n        var empty = document.querySelector(\".basket__empty\");\r\n        if (+basketCounter.textContent === 0) {\r\n            empty.style.display = \"block\";\r\n            basketWrap.style.display = \"block\";\r\n            submitBtn.style.display = \"\";\r\n        } else {\r\n            empty.style.display = \"none\";\r\n            basketWrap.style.display = \"grid\";\r\n            submitBtn.style.display = \"block\";\r\n        }\r\n    }\r\n\r\n    function calcTotal() {\r\n        var prices = document.querySelectorAll(\".basket__wrap > .goods__item > .goods__item-cost > span\");\r\n        var total = 0;\r\n        prices.forEach(function (price) {\r\n            total += +price.textContent.replace(/\\s+/g, '');\r\n        });\r\n        totalCost.textContent = total;\r\n    }\r\n\r\n    function removeFromBasket() {\r\n        var id = this.getAttribute(\"data-id\");\r\n\r\n        basket[id] === 1 ? delete basket[id] : basket[id]--;\r\n\r\n        this.parentElement.remove();\r\n        calcGoods(0);\r\n        calcTotal();\r\n        emptyBasketText();\r\n    }\r\n\r\n    $('.feedback__carousel').owlCarousel({\r\n        loop: true,\r\n        margin: 30,\r\n        items: 3,\r\n        smartSpeed: 1500,\r\n        dots: true,\r\n        autoplay: true,\r\n        autoplayTimeout: 3000,\r\n        autoplayHoverPause: true,\r\n        responsive: {\r\n            0: {\r\n                items: 1\r\n            },\r\n            992: {\r\n                items: 3\r\n            },\r\n        }\r\n    });\r\n\r\n    $('.header__carousel').owlCarousel({\r\n        loop: true,\r\n        margin: 30,\r\n        items: 3,\r\n        smartSpeed: 500,\r\n        dots: true,\r\n        autoplay: true,\r\n        autoplayTimeout: 5000,\r\n        autoplayHoverPause: true,\r\n        dotsContainer: \"#owl-custom-dots\",\r\n        responsive: {\r\n            0: {\r\n                items: 1\r\n            }\r\n        }\r\n    });\r\n\r\n    headerImages.forEach(function (item) {\r\n        setTimeout(function () {\r\n            item.classList.remove(\"wow\");\r\n            item.style = \"\";\r\n        }, 3000)\r\n    });\r\n\r\n    new WOW({offset:100, mobile:false}).init();\r\n\r\n    $.fn.parallax = function (resistance, mouse) {\r\n        $el = $(this);\r\n        TweenLite.to($el, 0.2,\r\n            {\r\n                x: -((mouse.clientX - (window.innerWidth / 2)) / resistance),\r\n                y: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n            });\r\n    };\r\n\r\n    $.fn.parallaxY = function (resistance, mouse) {\r\n        $el = $(this);\r\n        TweenLite.to($el, 0.2,\r\n            {\r\n                y: -((mouse.clientY - (window.innerHeight / 2)) / resistance)\r\n            });\r\n    };\r\n\r\n    $('body').mousemove(function (e) {\r\n        $('.bg__bear_red').parallaxY(-10, e);\r\n        $('.bg__bear_violet').parallax(10, e);\r\n        $('.header__images-bouquet').parallax(-50, e);\r\n        $('.header__images-bouquet-shadow').parallax(-50, e);\r\n        $('.header__images-blur-flower').parallax(40, e);\r\n        $('.header__images-left-leaf').parallax(-20, e);\r\n        $('.header__images-left-fl').parallax(30, e);\r\n        $('.header__images-right-fl').parallax(-20, e);\r\n        $('.header__images-blur-leaf').parallax(10, e);\r\n        $('.header__images-right-leaf').parallax(-20, e);\r\n    });\r\n\r\n    tabs.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            var i, tabcontent, tablinks;\r\n            var id = this.getAttribute(\"data-id\");\r\n            tabcontent = document.getElementsByClassName(\"goods__item-wrap\");\r\n            for (i = 0; i < tabcontent.length; i++) {\r\n                tabcontent[i].style.display = \"none\";\r\n            }\r\n            tablinks = document.getElementsByClassName(\"goods__list-tab\");\r\n            for (i = 0; i < tablinks.length; i++) {\r\n                tablinks[i].className = tablinks[i].className.replace(\" goods__list-tab-active\", \"\");\r\n            }\r\n            document.getElementById(id).style.display = \"grid\";\r\n            this.className += \" goods__list-tab-active\";\r\n        })\r\n    });\r\n    document.getElementById(\"defaultOpen\").click();\r\n\r\n    $(\".main__menu-link\").on(\"click\", function () {\r\n        var id = $(this).attr('href'),\r\n            top = $(id).offset().top;\r\n        $('body,html').animate({scrollTop: top});\r\n    });\r\n\r\n    function openModalOrder() {\r\n        overlay.style.display = \"block\";\r\n        modalOrder.style.display = \"block\";\r\n        closeModalOrder.style.display = \"block\";\r\n        overlay.classList.toggle(\"overlay-active\");\r\n    }\r\n\r\n    openModalFormCall.forEach(function (btn) {\r\n        btn.addEventListener(\"click\", function () {\r\n            overlay.style.display = \"block\";\r\n            modalCall.style.display = \"block\";\r\n            overlay.classList.toggle(\"overlay-active\");\r\n        })\r\n    });\r\n\r\n    closeModalCall.addEventListener(\"click\", function () {\r\n        overlayCall.style.display = \"none\";\r\n        modalCall.style.display = \"none\";\r\n        modalCall.classList.toggle(\"modal-active\");\r\n        overlayCall.classList.toggle(\"overlay-active\");\r\n    });\r\n\r\n    overlay.addEventListener(\"click\", function () {\r\n        overlay.style.display = \"none\";\r\n        modalOrder.style.display = \"none\";\r\n        modalCall.style.display = \"none\";\r\n        overlay.classList.toggle(\"overlay-active\");\r\n    });\r\n\r\n    function sendEmail() {\r\n        var name = $(\"#name-input\").val();\r\n        var tel = $(\"#tel-input\").val();\r\n        if (validName(name) && validTel(tel)) {\r\n            $.post(\r\n                \"mail.php\",\r\n                {\r\n                    \"name\": name,\r\n                    \"tel\": tel\r\n                },\r\n                function () {\r\n                    alert(\"Мы вам перезвоним!\");\r\n                    $(this).find('input').val('');\r\n                    $('.order-form').trigger('reset');\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    function sendOrder() {\r\n        var name = $(\"#name-input\").val();\r\n        var tel = $(\"#tel-input\").val();\r\n        if (validName(name) && validTel(tel)) {\r\n            if (!isEmpty(basket)) {\r\n                $.post(\r\n                    \"order.php\",\r\n                    {\r\n                        \"name\": name,\r\n                        \"tel\": tel,\r\n                        \"basket\": basket\r\n                    },\r\n                    function () {\r\n                        alert(\"Мы вам перезвоним!\");\r\n                        $(this).find('input').val('');\r\n                        $('.order-form').trigger('reset');\r\n                    }\r\n                );\r\n            } else {\r\n                alert(\"Корзина пуста!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    function validName(name) {\r\n        if (name.length > 1 && name.search(/\\d/) == -1) {\r\n            return true;\r\n        } else {\r\n            alert(\"Некорректное Имя!\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function validTel(tel) {\r\n        if (tel.search(/\\d/) == 0 && tel.search(/[A-Z]/i) == -1) {\r\n            return true;\r\n        } else {\r\n            alert(\"Некорректный телефон!\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function isEmpty(obj) {\r\n        for (var key in obj)\r\n            if (obj.hasOwnProperty(key))\r\n                return false;\r\n        return true;\r\n    }\r\n\r\n    document.querySelector(\".form__sbm\").addEventListener(\"click\", function () {\r\n        sendEmail();\r\n    });\r\n\r\n    document.querySelector(\".form__sbm-order\").addEventListener(\"click\", function () {\r\n        sendOrder();\r\n    });\r\n\r\n    function showAdd() {\r\n        basketOpen.classList.toggle(\"basket-pulse\");\r\n        setTimeout(function () {\r\n            basketOpen.classList.toggle(\"basket-pulse\");\r\n        }, 600)\r\n    }\r\n});"]}