$(document).ready(function(){var e=document.querySelectorAll(".goods__list-tab"),t=document.querySelector(".modal-form"),o=document.querySelector(".overlay"),l=document.querySelectorAll(".openModal"),a=document.querySelector(".close-modal"),s={},n=document.querySelectorAll(".header__images > img"),i=document.querySelector(".basket__wrap"),r=document.querySelector(".basket"),c=document.querySelector(".basket__close"),d=document.querySelector(".basket__open"),u=document.querySelector(".basket__overlay"),m=document.querySelectorAll(".goods__item-btn"),y=document.querySelectorAll(".goods__item"),_=document.querySelector(".basket__counter"),p=document.querySelector(".basket__total-cost"),f=document.querySelector(".basket__sbm");function g(){r.style.display="none",document.body.style.overflow=""}function v(e){var t=i.querySelectorAll(".goods__item");_.textContent=t.length+e}function h(){var e=document.querySelector(".basket__empty");0==+_.textContent?(e.style.display="block",i.style.display="block",f.style.display=""):(e.style.display="none",i.style.display="grid",f.style.display="flex")}function b(){var e=document.querySelectorAll(".basket__wrap > .goods__item > .goods__item-cost > span"),t=0;e.forEach(function(e){t+=+e.textContent.replace(/\s+/g,"")}),p.textContent=t}function k(){var e,t,o=$("#name-input").val(),l=$("#tel-input").val();(1<(t=o).length&&-1==t.search(/\d/)||(alert("Некорректное Имя!"),0))&&(0==(e=l).search(/\d/)&&-1==e.search(/[A-Z]/i)||(alert("Некорректный телефон!"),0))&&$.post("mail.php",{name:o,tel:l},function(){alert("Мы вам перезвоним!"),$(this).find("input").val(""),$(".order-form").trigger("reset")})}d.addEventListener("click",function(){r.style.display="block",document.body.style.overflow="hidden"}),c.addEventListener("click",g),u.addEventListener("click",g),m.forEach(function(a,n){a.addEventListener("click",function(){var e=y[n].cloneNode(!0),t=e.querySelector("button"),o=document.createElement("div"),l=a.getAttribute("data-id");o.setAttribute("data-id",l),t.remove(),v(1),o.classList.add("goods__item-remove"),o.innerHTML='<i class="far fa-times-circle"></i>',e.appendChild(o),e.style="",e.classList.remove("wow"),e.classList.remove("fadeInLeftBig"),i.appendChild(e),void 0===s[l]?s[l]=1:s[l]++,console.log(s),h(),b(),i.querySelectorAll(".goods__item-remove").forEach(function(t){t.addEventListener("click",function(){var e=t.getAttribute("data-id");1===s[e]?delete s[e]:s[e]--,console.log(s),t.parentElement.remove(),v(0),b(),h()})})})}),$(".feedback__carousel").owlCarousel({loop:!0,margin:30,items:3,smartSpeed:1500,dots:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,responsive:{0:{items:1},992:{items:3}}}),$(".header__carousel").owlCarousel({loop:!0,margin:30,items:3,smartSpeed:500,dots:!0,autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,dotsContainer:"#owl-custom-dots",responsive:{0:{items:1}}}),n.forEach(function(e){setTimeout(function(){e.classList.remove("wow"),e.style=""},3e3)}),new WOW({}).init({offset:30}),$.fn.parallax=function(e,t){$el=$(this),TweenLite.to($el,.2,{x:-(t.clientX-window.innerWidth/2)/e,y:-(t.clientY-window.innerHeight/2)/e})},$.fn.parallaxY=function(e,t){$el=$(this),TweenLite.to($el,.2,{y:-(t.clientY-window.innerHeight/2)/e})},$("body").mousemove(function(e){$(".bg__bear_red").parallaxY(-10,e),$(".bg__bear_violet").parallax(10,e),$(".header__images-bouquet").parallax(-50,e),$(".header__images-bouquet-shadow").parallax(-50,e),$(".header__images-blur-flower").parallax(40,e),$(".header__images-left-leaf").parallax(-20,e),$(".header__images-left-fl").parallax(30,e),$(".header__images-right-fl").parallax(-20,e),$(".header__images-blur-leaf").parallax(10,e),$(".header__images-right-leaf").parallax(-20,e)}),e.forEach(function(e){e.addEventListener("click",function(){var e,t,o,l=this.getAttribute("data-id");for(t=document.getElementsByClassName("goods__item-wrap"),e=0;e<t.length;e++)t[e].style.display="none";for(o=document.getElementsByClassName("goods__list-tab"),e=0;e<o.length;e++)o[e].className=o[e].className.replace(" goods__list-tab-active","");document.getElementById(l).style.display="grid",this.className+=" goods__list-tab-active"})}),document.getElementById("defaultOpen").click(),$(".main__menu-link").on("click",function(){var e=$(this).attr("href"),t=$(e).offset().top;$("body,html").animate({scrollTop:t})}),l.forEach(function(e){e.addEventListener("click",function(){o.style.display="block",t.style.display="block",t.classList.toggle("modal-active"),o.classList.toggle("overlay-active")})}),a.addEventListener("click",function(){o.style.display="none",t.style.display="none",t.classList.toggle("modal-active"),o.classList.toggle("overlay-active")}),o.addEventListener("click",function(){o.style.display="none",t.style.display="none",t.classList.toggle("modal-active"),o.classList.toggle("overlay-active")}),document.querySelector(".form__sbm").addEventListener("click",function(){k()})});
//# sourceMappingURL=main.js.map
